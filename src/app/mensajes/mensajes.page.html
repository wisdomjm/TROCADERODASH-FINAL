<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar >
    <ion-title>TrocaderoApp</ion-title>
    <ion-avatar slot="end" style="margin-right: 12px; display: flex; align-items: center;">
      <img src="../../assets/icon/trocaderologo.jpg" alt="" style="width: 42px; height: 42px;">
    </ion-avatar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="main-content">
    <div class="side-left">
        <ion-list>
          <ion-item lines="none" routerLink="/dashboard">
            <i class='bx bxs-dashboard texto-violeta' ></i> 
            <p style="font-size: 18px; font-weight: 300; margin-left: 16px;">
              Dashboard
            </p>
          </ion-item>
          <ion-item lines="none" routerLink="/usuarios">
            <i class='bx bxs-user-detail texto-violeta' ></i> 
            <p style="font-size: 18px; font-weight: 300; margin-left: 16px;">
              Usuarios
            </p>
          </ion-item>
          <ion-item lines="none" routerLink="/productos">
            <i class='bx bx-store texto-violeta' ></i> 
            <p style="font-size: 18px; font-weight: 300; margin-left: 16px;">
              Productos
            </p>
          </ion-item>
          <ion-item lines="none" routerLink="/balance">
            <i class='bx bx-id-card'></i>
            <p style="font-size: 18px; font-weight: 300; margin-left: 16px;">
              Membresias
            </p>
          </ion-item>
          <!--ion-item lines="none" routerLink="/mapa">
            <i class='bx bx-map-alt texto-violeta' ></i> 
            <p style="font-size: 18px; font-weight: 300; margin-left: 16px;">
              Mapa
            </p>
          </ion-item-->
          <ion-item lines="none" routerLink="/mensajes">
            <i class='bx bx-message-rounded-dots texto-violeta' ></i> 
            <p style="font-size: 18px; font-weight: 300; margin-left: 16px;">
              Chat
            </p>
          </ion-item>
        </ion-list>
    </div>
    <div class="side-right">
      <h1 class="header-page texto-negro-50">Chat</h1>


      <ion-grid>
        <ion-row>
          <!--lista de usuarios-->
          <ion-col size="3">
            <ion-item lines="none" *ngFor="let usuarios of clientesRegistrados" (click)="cargarMensajes(usuarios.uid)">
              <ion-thumbnail slot="start">
                <img  src="../../assets/icon/trocaderologo.jpg" alt="" style="border-radius: 8px 8px 8px 8px;">
              </ion-thumbnail>
              <ion-label>
                <h1 style="font-size: 16px;">{{usuarios.nombres}} {{usuarios.apellidos}}</h1>
                <p style="font-size: 10px;">{{usuarios.email}}</p>
              </ion-label>
            </ion-item>
          </ion-col>

          <!--sala de chat-->
          <ion-col size="9">
            <div class="chat-contenido">
              <div class="chat-principal">

                <ion-list lines="none">
                  <div *ngFor="let mensajes of mensajesDisponible" class="ion-padding">
                    <ion-item>
                      <ion-avatar slot="start">
                        <img src="{{mensajes.avatar}}" alt="">
                      </ion-avatar>
                      <ion-label>
                        <p>{{mensajes.message}}</p>
                      </ion-label>
                    </ion-item>
                    
                  </div>
                </ion-list>

              </div>
  
              <div class="chat-input ion-padding">
                <ion-textarea placeholder="... Escribe aqui tu mensaje" fill="outline" [autoGrow]="false" [(ngModel)]="mensaje"></ion-textarea>
                <ion-button (click)="enviarMensaje()" slot="end" mode="ios" color="dark">Enviar</ion-button>
              </div>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>




    </div>
  </div>

</ion-content>
